jQuery((function(e){"use strict";let a=0;var o=e("#order-status-checking"),r=e("#order-success"),n=e("#order-failed");function t(){a>=10||e.ajax({type:"POST",url:WC_Reepay_Thankyou.ajax_url,data:{action:"reepay_order_descriptions",order_id:WC_Reepay_Thankyou.order_id,order_key:WC_Reepay_Thankyou.order_key},success:function(e){e.success?(o.hide(),r.show(),r.find("#reepay-order-details").html(e.data)):(a++,setTimeout(t,2e3))},error:function(){a++,setTimeout(t,2e3)}})}window.wc_reepay_thankyou={xhr:!1,attempts:0,init:function(){this.checkPayment((function(a,c){switch(c.state){case"paid":1==WC_Reepay_Thankyou.order_contain_rp_subscription&&0==WC_Reepay_Thankyou.order_is_rp_subscription?t():(o.hide(),r.show());break;case"reload":e(".woocommerce-order").block({message:WC_Reepay_Thankyou.check_message,overlayCSS:{background:"#fff",opacity:.6}}),setTimeout((function(){location.reload()}),2e3);break;case"failed":case"aborted":o.hide(),n.append('<p class="transaction-error">'+c.message+"</p>"),n.show();break;default:if(window.wc_reepay_thankyou.attempts++,window.wc_reepay_thankyou.attempts>6)return;setTimeout((function(){window.wc_reepay_thankyou.init()}),1e4)}}))},checkPayment:function(a){return e(".woocommerce-order").block({message:WC_Reepay_Thankyou.check_message,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",url:WC_Reepay_Thankyou.ajax_url,data:{action:"reepay_check_payment",nonce:WC_Reepay_Thankyou.nonce,order_id:WC_Reepay_Thankyou.order_id,order_key:WC_Reepay_Thankyou.order_key},dataType:"json"}).always((function(){e(".woocommerce-order").unblock()})).done((function(e){a(null,e.data)}))}},e(document).ready((function(){e(".woocommerce-order--thankyou").length&&window.wc_reepay_thankyou.init()}))}));